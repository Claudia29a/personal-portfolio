<div class="flex flex-col md:flex-row h-screen font-abhaya">
  <!-- Left text panel -->
  <div
    class="bg-customAmber flex flex-col justify-between p-4 md:p-8 md:w-1/2 text-customDarkBrown relative w-full mobile-left-panel">
    <div>
      <h6 class="uppercase tracking-widest text-sm font-normal mb-2">Portfolio</h6>
      <hr class="border-customBrownDark mb-2 md:mb-16 w-full" />
    </div>

    <div class="flex-1 flex flex-col justify-center ml-0 md:ml-20">
      <div class="mt-0 md:-mt-32">
        <h2 class="text-3xl md:text-4xl font-semibold mb-6 md:mb-12 mobile-title">Projects</h2>
      </div>

      <!-- Project Description Text - Desktop Only -->
      <div class="hidden md:block max-w-lg">
        <p class="text-base md:text-lg leading-relaxed text-customDarkBrown">
          {{ projectTexts[currentSlide] }}
        </p>
      </div>

      <!-- Mobile Slideshow -->
      <div class="block md:hidden w-full mt-8">
        <div class=" p-3 rounded-lg">
          <!-- Slides -->
          <div class="relative overflow-hidden rounded-lg mb-3" style="aspect-ratio: 4/3;">
            <div *ngFor="let slide of slides; let i = index" [class.hidden]="currentSlide !== i"
              class="w-full h-full absolute inset-0">
              <img [src]="slide" [alt]="'Project ' + (i + 1)" class="w-full h-full object-contain rounded-lg">
            </div>

            <!-- Previous Button on Image -->
            <button (click)="prevSlide()"
              class="absolute left-1 top-1/2 -translate-y-1/2 bg-customYellow bg-opacity-75 hover:bg-opacity-100 text-customDarkBrown p-1.5 rounded-full transition-all z-10">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                stroke="currentColor" stroke-width="3">
                <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
              </svg>
            </button>

            <!-- Next Button on Image -->
            <button (click)="nextSlide()"
              class="absolute right-1 top-1/2 -translate-y-1/2 bg-customYellow bg-opacity-75 hover:bg-opacity-100 text-customDarkBrown p-1.5 rounded-full transition-all z-10">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                stroke="currentColor" stroke-width="3">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
              </svg>
            </button>
          </div>

          <!-- Read More Button -->
          <button (click)="openPopup()"
            class="w-140 bg-customYellow hover:bg-customOrange text-customDarkBrown font-semibold text-sm py-2 px-4 rounded transition-all justify-center mx-auto flex">
            Read More
          </button>
        </div>
      </div>
    </div>

    <!-- Mobile Popup -->
    <div *ngIf="showMobilePopup" class="block md:hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
      <!-- Popup Modal -->
      <div class="bg-customYellow rounded-lg p-6 max-w-md w-full max-h-[80vh] overflow-y-auto relative">
        <!-- Close button -->
        <button (click)="closePopup()"
          class="absolute top-4 right-4 text-customDarkBrown text-2xl hover:opacity-80 transition-opacity">
          &#x2715;
        </button>

        <!-- Popup content -->
        <div class="pr-8">
          <h3 class="text-xl font-semibold text-customDarkBrown mb-4">Project {{ currentSlide + 1 }}</h3>
          <p class="text-sm leading-relaxed text-customDarkBrown">
            {{ projectTexts[currentSlide] }}
          </p>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <div
      class="w-full mt-2 pt-3 border-t border-customBrownDark flex justify-between md:justify-start md:space-x-4 text-xs text-customBrownDark mobile-footer">
      <span>Cretu Claudia</span>
      <span>|</span>
      <span>Portfolio</span>
    </div>

    <!-- Left nav arrow -->
    <button [routerLink]="['/expertise']" aria-label="Previous"
      class="absolute md:top-1/2 md:-translate-y-1/2 bottom-4 md:bottom-auto left-4 md:left-8 text-customOrange hover:text-customYellow transition-colors duration-300 mobile-nav-left">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 md:h-12 md:w-12" fill="none" viewBox="0 0 24 24"
        stroke="currentColor" stroke-width="3">
        <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"></path>
      </svg>
    </button>

    <!-- Right nav arrow - visible on mobile inside left panel -->
    <button [routerLink]="['/other-work']" aria-label="Next"
      class="block md:hidden absolute bottom-4 right-4 text-customOrange hover:text-customYellow transition-colors duration-300 mobile-nav-right">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" fill="none" viewBox="0 0 24 24" stroke="currentColor"
        stroke-width="3">
        <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
      </svg>
    </button>
  </div>

  <!-- Right panel - Desktop only -->
  <div
    class="hidden md:flex md:w-1/2 bg-customDarkBrown flex-col justify-center items-center p-4 md:p-8 w-full relative">

    <!-- Slideshow -->
    <div class="w-full max-w-2xl">
      <!-- Slides -->
      <div class="relative overflow-hidden rounded-lg mb-6" style="aspect-ratio: 16/9;">
        <div *ngFor="let slide of slides; let i = index" [class.hidden]="currentSlide !== i"
          class="w-full h-full absolute inset-0">
          <img [src]="slide" [alt]="'Project ' + (i + 1)" class="w-full h-full object-contain">
        </div>
      </div>

      <!-- Navigation Arrows -->
      <div class="flex justify-center items-center gap-8">
        <!-- Previous Button -->
        <button (click)="prevSlide()"
          class="bg-customYellow hover:bg-customOrange text-customDarkBrown p-3 rounded-full transition-all">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"
            stroke-width="3">
            <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
          </svg>
        </button>

        <!-- Dots Indicator -->
        <div class="flex justify-center gap-2">
          <button *ngFor="let slide of slides; let i = index" (click)="goToSlide(i)"
            [class.bg-customYellow]="currentSlide === i" [class.bg-customYellow]="currentSlide !== i"
            [class.opacity-40]="currentSlide !== i" class="w-2 h-2 rounded-full transition-all">
          </button>
        </div>

        <!-- Next Button -->
        <button (click)="nextSlide()"
          class="bg-customYellow hover:bg-customOrange text-customDarkBrown p-3 rounded-full transition-all">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"
            stroke-width="3">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
          </svg>
        </button>
      </div>
    </div>

    <!-- Right nav arrow - desktop only -->
    <button [routerLink]="['/other-work']" aria-label="Next"
      class="absolute top-1/2 -translate-y-1/2 right-8 text-customOrange hover:text-customYellow transition-colors duration-300">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12" fill="none" viewBox="0 0 24 24" stroke="currentColor"
        stroke-width="3">
        <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
      </svg>
    </button>
  </div>
</div>